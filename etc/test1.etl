require "metacrunch/test_utils"

register_options do |registry|
  registry.add :url, "-u", "--url URL", "Foo bar baz", default: "http://foo.de"
end

puts "OPTIONS: #{options}"

source Metacrunch::TestUtils::DummySource.new
destination Metacrunch::TestUtils::DummyDestination.new

pre_process ->() do
  puts "pre_process called #{options}"
end

post_process ->() do
  puts "post_process called"
end

transformation ->(row) do
  puts "transformation called: #{row}"
end
